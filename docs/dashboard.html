<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XIVIX Tower Control</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--bg-primary:#121212;--bg-secondary:#1e1e1e;--bg-card:#252525;--bg-input:#1a1a1a;--border:#3a3a3a;--text-primary:#e0e0e0;--text-secondary:#a0a0a0;--text-muted:#707070;--accent-blue:#5b9cf6;--accent-green:#4ade80;--accent-amber:#fbbf24;--accent-red:#f87171;--accent-purple:#c084fc;--accent-cyan:#22d3ee;--accent-pink:#f472b6}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'IBM Plex Sans KR',-apple-system,sans-serif;background:var(--bg-primary);color:var(--text-primary);min-height:100vh}
.app{display:grid;grid-template-columns:240px 1fr;min-height:100vh}
.sidebar{background:var(--bg-secondary);border-right:1px solid var(--border);position:sticky;top:0;height:100vh;overflow-y:auto;display:flex;flex-direction:column;z-index:50}
.sidebar-brand{padding:1.5rem 1.2rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.sidebar-brand h1{font-size:1.1rem;font-weight:700;letter-spacing:.05em;color:var(--accent-blue)}.sidebar-brand span{font-size:.65rem;color:var(--text-muted);display:block;margin-top:2px;letter-spacing:.1em}
.sidebar-close{display:none;background:none;border:none;color:var(--text-muted);font-size:1.3rem;cursor:pointer;padding:.3rem}
.nav-section{padding:.8rem 0}.nav-label{padding:.3rem 1.2rem;font-size:.6rem;text-transform:uppercase;letter-spacing:.12em;color:var(--text-muted);font-weight:600}
.nav-item{display:flex;align-items:center;gap:.6rem;padding:.55rem 1.2rem;cursor:pointer;font-size:.82rem;color:var(--text-secondary);transition:all .15s;border-left:3px solid transparent}
.nav-item:hover{background:rgba(91,156,246,.1);color:var(--text-primary)}.nav-item.active{background:rgba(91,156,246,.15);color:var(--accent-blue);border-left-color:var(--accent-blue);font-weight:500}
.nav-icon{width:16px;height:16px;opacity:.85;flex-shrink:0}
.opt-tags{display:flex;gap:.25rem;flex-wrap:wrap;padding:1rem 1.2rem;border-top:1px solid var(--border);margin-top:auto}
.opt-tag{font-size:.58rem;padding:.12rem .4rem;border-radius:3px;font-weight:600;letter-spacing:.05em}
.opt-tag.seo{background:rgba(91,156,246,.2);color:var(--accent-blue)}.opt-tag.aeo{background:rgba(192,132,252,.2);color:var(--accent-purple)}.opt-tag.geo{background:rgba(74,222,128,.2);color:var(--accent-green)}.opt-tag.crank{background:rgba(251,191,36,.2);color:var(--accent-amber)}.opt-tag.nlogic{background:rgba(34,211,238,.2);color:var(--accent-cyan)}
.main{overflow-y:auto}.main-header{padding:1rem 1.2rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;background:var(--bg-secondary);position:sticky;top:0;z-index:10}
.main-header h2{font-size:.95rem;font-weight:600}.header-actions{display:flex;gap:.4rem;align-items:center}
.hamburger{display:none;background:none;border:none;color:var(--text-primary);font-size:1.3rem;cursor:pointer;padding:.3rem;margin-right:.5rem}
.main-content{padding:1.2rem}
.btn{padding:.45rem .9rem;border-radius:6px;font-size:.78rem;font-weight:500;border:none;cursor:pointer;font-family:inherit;transition:all .15s;display:inline-flex;align-items:center;gap:.35rem;white-space:nowrap}
.btn-primary{background:var(--accent-blue);color:#111}.btn-primary:hover{background:#7bb3f7}.btn-success{background:var(--accent-green);color:#111}.btn-outline{background:transparent;color:var(--text-secondary);border:1px solid var(--border)}.btn-outline:hover{border-color:var(--accent-blue);color:var(--accent-blue)}.btn-danger{background:rgba(248,113,113,.18);color:var(--accent-red);border:none}.btn-sm{padding:.3rem .6rem;font-size:.72rem}.btn-lg{padding:.6rem 1.3rem;font-size:.85rem}
.btn-pink{background:var(--accent-pink);color:#111}.btn-pink:hover{background:#f9a8d4}
.card{background:var(--bg-card);border:1px solid var(--border);border-radius:10px;padding:1.2rem;margin-bottom:1rem}.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:.4rem}.card-title{font-size:.88rem;font-weight:600}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:.7rem;margin-bottom:1.2rem}.stat-card{background:var(--bg-card);border:1px solid var(--border);border-radius:8px;padding:.9rem}.stat-value{font-size:1.5rem;font-weight:700;font-family:'JetBrains Mono',monospace}.stat-label{font-size:.65rem;color:var(--text-muted);margin-top:.15rem;letter-spacing:.05em}
.stat-card.blue .stat-value{color:var(--accent-blue)}.stat-card.green .stat-value{color:var(--accent-green)}.stat-card.amber .stat-value{color:var(--accent-amber)}.stat-card.purple .stat-value{color:var(--accent-purple)}.stat-card.cyan .stat-value{color:var(--accent-cyan)}.stat-card.pink .stat-value{color:var(--accent-pink)}
table{width:100%;border-collapse:collapse;font-size:.8rem}th{text-align:left;padding:.55rem .5rem;color:var(--text-secondary);font-size:.65rem;text-transform:uppercase;letter-spacing:.08em;font-weight:600;border-bottom:2px solid var(--border)}td{padding:.6rem .5rem;border-bottom:1px solid var(--border)}tr:hover td{background:rgba(91,156,246,.06)}
.status{display:inline-block;padding:.12rem .45rem;border-radius:4px;font-size:.68rem;font-weight:600}.status-active{background:rgba(74,222,128,.2);color:var(--accent-green)}.status-pending{background:rgba(251,191,36,.2);color:var(--accent-amber)}.status-biz{background:rgba(91,156,246,.2);color:var(--accent-blue)}.status-free{background:rgba(244,114,182,.2);color:var(--accent-pink)}
.opt-indicators{display:flex;gap:.25rem}.opt-dot{width:8px;height:8px;border-radius:50%}.opt-dot.on{opacity:1}.opt-dot.off{opacity:.2}.opt-dot.seo{background:var(--accent-blue)}.opt-dot.aeo{background:var(--accent-purple)}.opt-dot.geo{background:var(--accent-green)}.opt-dot.crank{background:var(--accent-amber)}.opt-dot.nlogic{background:var(--accent-cyan)}
.form-group{margin-bottom:.9rem}.form-label{display:block;font-size:.72rem;color:var(--text-muted);margin-bottom:.25rem;font-weight:500}
.form-input,.form-textarea,.form-select{width:100%;padding:.55rem .75rem;background:var(--bg-input);border:1px solid var(--border);border-radius:6px;color:var(--text-primary);font-size:.82rem;font-family:inherit;transition:border-color .15s}
.form-input:focus,.form-textarea:focus,.form-select:focus{outline:none;border-color:var(--accent-blue)}.form-textarea{resize:vertical;min-height:100px}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:.7rem}.form-row-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.7rem}
.map-options{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem}.map-option{display:flex;align-items:center;gap:.5rem;padding:.6rem .8rem;background:var(--bg-input);border:1px solid var(--border);border-radius:8px;cursor:pointer;transition:all .15s}
.map-option:hover{border-color:var(--accent-blue)}.map-option.selected{border-color:var(--accent-blue);background:rgba(59,130,246,.05)}.map-option input{display:none}
.map-check{width:16px;height:16px;border:2px solid var(--border);border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all .15s;flex-shrink:0}
.map-option.selected .map-check{background:var(--accent-blue);border-color:var(--accent-blue)}.map-option.selected .map-check::after{content:'';width:4px;height:8px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg);margin-top:-2px}
.tabs{display:flex;gap:0;border-bottom:1px solid var(--border);margin-bottom:1rem;overflow-x:auto}.tab{padding:.55rem 1rem;font-size:.78rem;color:var(--text-muted);cursor:pointer;border-bottom:2px solid transparent;transition:all .15s;font-weight:500;white-space:nowrap}.tab:hover{color:var(--text-primary)}.tab.active{color:var(--accent-blue);border-bottom-color:var(--accent-blue)}
.tab.active-pink{color:var(--accent-pink);border-bottom-color:var(--accent-pink)}
.console{background:#0e0e0e;border-radius:8px;padding:1rem;font-family:'JetBrains Mono',monospace;font-size:.68rem;color:#6ee7b7;max-height:350px;overflow-y:auto;line-height:1.8;word-break:break-all}.console .c-info{color:#93c5fd}.console .c-warn{color:#fcd34d}.console .c-ok{color:#6ee7b7}.console .c-dim{color:#737373}.console .c-pink{color:#f9a8d4}
.toast{position:fixed;bottom:2rem;right:1rem;left:1rem;background:var(--bg-card);border:1px solid var(--accent-green);border-radius:8px;padding:.7rem 1.1rem;font-size:.82rem;z-index:1000;transform:translateY(100px);opacity:0;transition:all .3s;text-align:center}.toast.show{transform:translateY(0);opacity:1}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:100;display:none;align-items:center;justify-content:center;padding:1rem}.modal-overlay.show{display:flex}.modal{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:1.5rem;max-width:640px;width:100%;max-height:85vh;overflow-y:auto}.modal h3{font-size:1rem;margin-bottom:1rem}
.guide-step{display:flex;gap:1rem;padding:.8rem 0;border-bottom:1px solid rgba(42,53,72,.4)}.guide-step:last-child{border-bottom:none}.guide-num{width:28px;height:28px;border-radius:50%;background:rgba(59,130,246,.15);color:var(--accent-blue);display:flex;align-items:center;justify-content:center;font-size:.72rem;font-weight:700;flex-shrink:0;font-family:'JetBrains Mono'}
.guide-text h4{font-size:.85rem;font-weight:600;margin-bottom:.2rem}.guide-text p{font-size:.78rem;color:var(--text-secondary);line-height:1.5}.guide-text code{background:rgba(91,156,246,.15);color:var(--accent-blue);padding:.1rem .3rem;border-radius:3px;font-size:.72rem;font-family:'JetBrains Mono'}
.flow-branch{display:grid;grid-template-columns:repeat(5,1fr);gap:.5rem;margin-top:.3rem}.flow-box{padding:.5rem .6rem;border-radius:6px;font-size:.7rem;font-weight:500;text-align:center}
.setting-section{margin-bottom:1.2rem;padding-bottom:1rem;border-bottom:1px solid var(--border)}.setting-section:last-child{border-bottom:none}
.setting-title{font-size:.82rem;font-weight:600;margin-bottom:.6rem;display:flex;align-items:center;gap:.4rem}
.api-key-input{font-family:'JetBrains Mono',monospace;font-size:.75rem}
.key-status{display:inline-flex;align-items:center;gap:.3rem;font-size:.68rem;padding:.2rem .5rem;border-radius:4px;margin-left:.5rem}
.key-ok{background:rgba(74,222,128,.18);color:var(--accent-green)}.key-none{background:rgba(248,113,113,.18);color:var(--accent-red)}
.mobile-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:40}
.sns-row{display:flex;gap:.4rem;align-items:center;margin-bottom:.4rem}.sns-row .form-input{flex:1}.sns-label{min-width:60px;font-size:.72rem;font-weight:600;color:var(--text-muted)}
.sns-link{display:inline-flex;align-items:center;gap:.3rem;padding:.15rem .4rem;border-radius:4px;font-size:.65rem;font-weight:500;text-decoration:none;transition:opacity .15s}.sns-link:hover{opacity:.8}
.sns-link.insta{background:rgba(225,48,108,.2);color:#f472b6}.sns-link.youtube{background:rgba(255,0,0,.18);color:#fca5a5}.sns-link.blog{background:rgba(3,199,90,.18);color:#6ee7b7}.sns-link.kakao{background:rgba(254,229,0,.2);color:#fde047}.sns-link.tiktok{background:rgba(255,255,255,.1);color:#e0e0e0}.sns-link.facebook{background:rgba(24,119,242,.18);color:#93c5fd}.sns-link.other{background:rgba(91,156,246,.15);color:var(--accent-blue)}
.mode-toggle{display:flex;background:var(--bg-input);border:1px solid var(--border);border-radius:8px;overflow:hidden;margin-bottom:1rem}.mode-btn{flex:1;padding:.6rem;text-align:center;font-size:.82rem;font-weight:500;cursor:pointer;border:none;background:transparent;color:var(--text-muted);font-family:inherit;transition:all .15s}.mode-btn.active-biz{background:rgba(91,156,246,.2);color:var(--accent-blue)}.mode-btn.active-free{background:rgba(244,114,182,.2);color:var(--accent-pink)}
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
@media(max-width:768px){
.app{grid-template-columns:1fr}
.sidebar{position:fixed;left:-260px;width:260px;height:100vh;transition:left .3s;z-index:50}.sidebar.open{left:0}.sidebar-close{display:block}
.mobile-overlay.show{display:block}.hamburger{display:block}
.stats-grid{grid-template-columns:repeat(2,1fr)}
.form-row,.form-row-3,.map-options{grid-template-columns:1fr}
.flow-branch{grid-template-columns:repeat(3,1fr)}
.stat-value{font-size:1.2rem}
table{font-size:.72rem;display:block;overflow-x:auto}
.main-content{padding:.8rem}.card{padding:.9rem}
.toast{left:.5rem;right:.5rem}
}
@media(max-width:400px){.stats-grid{grid-template-columns:1fr 1fr}.flow-branch{grid-template-columns:repeat(2,1fr)}}
</style>
</head>
<body>
<div class="app">
<div class="mobile-overlay" id="mobileOverlay" onclick="closeSidebar()"></div>
<aside class="sidebar" id="sidebar">
<div class="sidebar-brand"><div><h1>XIVIX</h1><span>Tower Control v2.0</span></div><button class="sidebar-close" onclick="closeSidebar()">X</button></div>
<div class="nav-section">
<div class="nav-label">ê´€ë¦¬</div>
<div class="nav-item active" data-page="guide" onclick="go('guide')"><svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg>ì‚¬ìš© ê°€ì´ë“œ</div>
<div class="nav-item" data-page="dashboard" onclick="go('dashboard')"><svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>ëŒ€ì‹œë³´ë“œ</div>
<div class="nav-item" data-page="add-biz" onclick="go('add-biz')"><svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/></svg>ë§¤ì¥ ë“±ë¡</div>
<div class="nav-item" data-page="add-free" onclick="go('add-free')"><svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>í”„ë¦¬ëœì„œ ë“±ë¡</div>
<div class="nav-item" data-page="list" onclick="go('list')"><svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>ì „ì²´ ëª©ë¡</div>
</div>
<div class="nav-section">
<div class="nav-label">ì‹œìŠ¤í…œ</div>
<div class="nav-item" data-page="settings" onclick="go('settings')"><svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></svg>ì„¤ì •</div>
<div class="nav-item" data-page="build" onclick="go('build')"><svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>ë¹Œë“œ & ë°°í¬</div>
<div class="nav-item" data-page="preview" onclick="go('preview')"><svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>ë¯¸ë¦¬ë³´ê¸°</div>
</div>
<div class="opt-tags"><span class="opt-tag seo">SEO</span><span class="opt-tag aeo">AEO</span><span class="opt-tag geo">GEO</span><span class="opt-tag crank">C-RANK</span><span class="opt-tag nlogic">N-LOGIC</span></div>
</aside>
<div class="main">
<div class="main-header"><div style="display:flex;align-items:center"><button class="hamburger" onclick="openSidebar()">&#9776;</button><h2 id="pageTitle">ì‚¬ìš© ê°€ì´ë“œ</h2></div><div class="header-actions"><button class="btn btn-outline btn-sm" onclick="go('settings')">ì„¤ì •</button><button class="btn btn-primary btn-sm" onclick="go('build')">ë¹Œë“œ</button></div></div>
<div class="main-content">

<!-- ê°€ì´ë“œ -->
<div id="page-guide" class="page">
<div class="card"><div class="card-title" style="margin-bottom:.3rem">XIVIX Tower Control</div><p style="font-size:.82rem;color:var(--text-secondary);line-height:1.6"><strong>ë§¤ì¥</strong> ë˜ëŠ” <strong>í”„ë¦¬ëœì„œ(ê°œì¸ ë¸Œëœë“œ)</strong> ì •ë³´ë¥¼ ë“±ë¡í•˜ë©´, êµ¬ê¸€/ë„¤ì´ë²„/ì¹´ì¹´ì˜¤/AI ê²€ìƒ‰ì— ìµœì í™”ëœ í˜ì´ì§€ê°€ ìë™ ìƒì„±ë©ë‹ˆë‹¤.</p></div>
<div class="card"><div class="card-title" style="margin-bottom:.5rem">ë‘ ê°€ì§€ ëª¨ë“œ</div>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:.8rem;margin-top:.5rem">
<div style="padding:.8rem;border-radius:8px;border:1px solid rgba(59,130,246,.3);background:rgba(59,130,246,.04)"><div style="font-weight:600;color:var(--accent-blue);margin-bottom:.3rem">ë§¤ì¥ ëª¨ë“œ</div><div style="font-size:.75rem;color:var(--text-secondary);line-height:1.5">ì¹˜ê³¼, ë³‘ì›, ìŒì‹ì , ì¹´í˜ ë“±<br>ê³ ì • ì£¼ì†Œ + ì§€ë„ ë…¸ì¶œ<br>Schema: LocalBusiness</div><button class="btn btn-primary btn-sm" style="margin-top:.5rem" onclick="go('add-biz')">ë§¤ì¥ ë“±ë¡</button></div>
<div style="padding:.8rem;border-radius:8px;border:1px solid rgba(236,72,153,.3);background:rgba(236,72,153,.04)"><div style="font-weight:600;color:var(--accent-pink);margin-bottom:.3rem">í”„ë¦¬ëœì„œ ëª¨ë“œ</div><div style="font-size:.75rem;color:var(--text-secondary);line-height:1.5">ë³´í—˜ì„¤ê³„ì‚¬, ìë™ì°¨ë”œëŸ¬, ë¶€ë™ì‚°ì¤‘ê°œ<br>SNS ì±„ë„ + í‚¤ì›Œë“œ ë…¸ì¶œ<br>Schema: Person + Service</div><button class="btn btn-pink btn-sm" style="margin-top:.5rem" onclick="go('add-free')">í”„ë¦¬ëœì„œ ë“±ë¡</button></div>
</div></div>
<div class="card"><div class="card-title" style="margin-bottom:.8rem">ë“±ë¡ í›„ ìë™ ìƒì„±ë¬¼</div>
<div style="background:var(--bg-input);border-radius:8px;padding:1rem">
<div class="flow-branch">
<div class="flow-box" style="background:rgba(59,130,246,.12);color:var(--accent-blue);font-size:.65rem"><strong>SEO</strong><br>Schema.org<br>sitemap</div>
<div class="flow-box" style="background:rgba(168,85,247,.12);color:var(--accent-purple);font-size:.65rem"><strong>AEO</strong><br>llms.txt<br>AI ë‹µë³€ìš©</div>
<div class="flow-box" style="background:rgba(34,197,94,.12);color:var(--accent-green);font-size:.65rem"><strong>GEO</strong><br>FAQ ë¦¬ì¹˜<br>AI Overview</div>
<div class="flow-box" style="background:rgba(245,158,11,.12);color:var(--accent-amber);font-size:.65rem"><strong>C-RANK</strong><br>ë„¤ì´ë²„ ì¹´í˜<br>ë¸”ë¡œê·¸</div>
<div class="flow-box" style="background:rgba(6,182,212,.12);color:var(--accent-cyan);font-size:.65rem"><strong>N-LOGIC</strong><br>ë„¤ì´ë²„ ê²€ìƒ‰<br>ë©”íƒ€íƒœê·¸</div>
</div></div></div>
<div class="card"><div class="card-title" style="margin-bottom:.5rem">í”„ë¦¬ëœì„œ vs ë§¤ì¥ ì°¨ì´</div>
<table><thead><tr><th></th><th>ë§¤ì¥</th><th>í”„ë¦¬ëœì„œ</th></tr></thead><tbody>
<tr><td style="font-weight:600">ì •ì²´</td><td>LocalBusiness (ì¥ì†Œ)</td><td>Person + ProfessionalService</td></tr>
<tr><td style="font-weight:600">ìœ„ì¹˜</td><td>ê³ ì • ì£¼ì†Œ + ì§€ë„</td><td>í™œë™ ì§€ì—­ (ê°•ë‚¨/ë¶„ë‹¹ ë“±)</td></tr>
<tr><td style="font-weight:600">ë…¸ì¶œ ì±„ë„</td><td>êµ¬ê¸€ë§µ/ë„¤ì´ë²„ì§€ë„</td><td>ì¸ìŠ¤íƒ€/ìœ íŠœë¸Œ/ë¸”ë¡œê·¸/ì¹´ì¹´ì˜¤</td></tr>
<tr><td style="font-weight:600">í‚¤ì›Œë“œ</td><td>"ê°•ë‚¨ ì¹˜ê³¼"</td><td>"ê°•ë‚¨ ë³´í—˜ì„¤ê³„ì‚¬ ì¶”ì²œ"</td></tr>
<tr><td style="font-weight:600">AEO</td><td>"ê·¼ì²˜ ì¹˜ê³¼ ì¶”ì²œ"</td><td>"ì¢‹ì€ ë³´í—˜ì„¤ê³„ì‚¬ ì°¾ëŠ”ë²•"</td></tr>
<tr><td style="font-weight:600">ë¹Œë“œ ê²°ê³¼</td><td>ë§¤ì¥ í˜ì´ì§€ + ì§€ë„</td><td>ë§í¬í—ˆë¸Œ + SNS í”„ë¡œí•„</td></tr>
</tbody></table></div>
<div class="card"><button class="btn btn-primary btn-lg" onclick="runDemo()">ë°ëª¨ ì‹¤í–‰</button><div id="demoOutput" style="margin-top:1rem;display:none"><div class="console" id="demoConsole"></div></div></div>
</div>

<!-- ëŒ€ì‹œë³´ë“œ -->
<div id="page-dashboard" class="page" style="display:none">
<div class="stats-grid" id="statsGrid"></div>
<div class="card"><div class="card-header"><span class="card-title">ì „ì²´ ê´€ë¦¬ í˜„í™©</span><div style="display:flex;gap:.3rem"><button class="btn btn-primary btn-sm" onclick="go('add-biz')">+ ë§¤ì¥</button><button class="btn btn-pink btn-sm" onclick="go('add-free')">+ í”„ë¦¬ëœì„œ</button></div></div>
<table><thead><tr><th>ì´ë¦„</th><th>ìœ í˜•</th><th>ì—…ì¢…</th><th>ìµœì í™”</th><th>ìƒíƒœ</th><th></th></tr></thead><tbody id="dashTable"></tbody></table></div>
</div>

<!-- ë§¤ì¥ ë“±ë¡ -->
<div id="page-add-biz" class="page" style="display:none">
<div class="card" style="border-color:rgba(59,130,246,.3)"><div class="card-title" style="color:var(--accent-blue);margin-bottom:.3rem">ë§¤ì¥ ë“±ë¡</div><p style="font-size:.78rem;color:var(--text-muted)">ê³ ì • ìœ„ì¹˜ê°€ ìˆëŠ” ì‚¬ì—…ì²´ (ì¹˜ê³¼, ë³‘ì›, ìŒì‹ì  ë“±)</p></div>
<div class="tabs"><div class="tab active" onclick="switchBizTab('search',this)">ë§¤ì¥ ê²€ìƒ‰</div><div class="tab" onclick="switchBizTab('paste',this)">Smart Paste</div><div class="tab" onclick="switchBizTab('manual',this)">ì§ì ‘ ì…ë ¥</div></div>
<div id="bizTab-search"><div class="card"><div class="card-title" style="margin-bottom:.4rem">ë§¤ì¥ëª…ìœ¼ë¡œ ê²€ìƒ‰</div>
<p style="font-size:.72rem;color:var(--text-muted);margin-bottom:.5rem">êµ¬ê¸€/ë„¤ì´ë²„ì—ì„œ ë³´ì´ëŠ” ê·¸ ë§¤ì¥ ì •ë³´ë¥¼ ì¹´ì¹´ì˜¤ APIë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤. (ì„¤ì •ì—ì„œ API í‚¤ ë“±ë¡ í•„ìš”)</p>
<div style="display:flex;gap:.4rem"><input class="form-input" id="searchQ" placeholder="ë§¤ì¥ëª… + ì§€ì—­ (ì˜ˆ: ë¼ì˜¨ë·°í‹° ë³‘ì )" style="flex:1" onkeydown="if(event.key==='Enter')doSearchAdd()"><button class="btn btn-primary btn-lg" onclick="doSearchAdd()">ê²€ìƒ‰</button></div>
<div id="searchResult" style="margin-top:.6rem;max-height:400px;overflow-y:auto"></div></div></div>
<div id="bizTab-paste" style="display:none"><div class="card"><textarea id="smartPasteInput" class="form-textarea" style="min-height:130px;font-family:'JetBrains Mono',monospace;font-size:.75rem" placeholder="ì˜ˆì‹œ:&#10;ê°•ë‚¨ìŠ¤ë§ˆì¼ì¹˜ê³¼&#10;ì„œìš¸ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 396&#10;02-555-1234&#10;https://gangnam-smile.co.kr&#10;&#10;â€» URLë§Œ ë„£ìœ¼ë©´ ì´ë¦„/ì£¼ì†Œ ìë™ ê°ì§€ê°€ ì•ˆë©ë‹ˆë‹¤.&#10;ë§¤ì¥ ì •ë³´ë¥¼ í…ìŠ¤íŠ¸ë¡œ í•¨ê»˜ ë¶™ì—¬ë„£ì–´ì£¼ì„¸ìš”."></textarea><div style="margin-top:.5rem"><button class="btn btn-primary" onclick="smartParse()">ìë™ ë¶„ë¥˜</button></div></div><div id="parseResult" style="display:none"><div class="card" style="border-color:var(--accent-green)"><div id="parsedFields"></div><div style="margin-top:.8rem;display:flex;gap:.4rem"><button class="btn btn-success" onclick="confirmAdd()">ë“±ë¡</button><button class="btn btn-outline" onclick="document.getElementById('parseResult').style.display='none'">ì·¨ì†Œ</button></div></div></div></div>
<div id="bizTab-manual" style="display:none"><div class="card" style="border-color:rgba(91,156,246,.3);margin-bottom:.5rem">
<div class="card-title" style="margin-bottom:.4rem">ë§¤ì¥ ê²€ìƒ‰</div>
<p style="font-size:.72rem;color:var(--text-muted);margin-bottom:.4rem">ë§¤ì¥ëª… ê²€ìƒ‰ â†’ ì›í´ë¦­ ìë™ ì…ë ¥ (ì„¤ì •ì—ì„œ ì¹´ì¹´ì˜¤ API í‚¤ ë“±ë¡ í•„ìš”)</p>
<div style="display:flex;gap:.4rem"><input class="form-input" id="kakaoSearchQ" placeholder="ë§¤ì¥ëª… ê²€ìƒ‰ (ì˜ˆ: ë¼ì˜¨ë·°í‹° ë³‘ì )" style="flex:1" onkeydown="if(event.key==='Enter')kakaoSearch(gi('kakaoSearchQ'),'kakaoSearchResult')"><button class="btn btn-primary" onclick="kakaoSearch(gi('kakaoSearchQ'),'kakaoSearchResult')">ê²€ìƒ‰</button></div>
<div id="kakaoSearchResult" style="margin-top:.4rem;max-height:250px;overflow-y:auto"></div>
</div><div class="card">
<div class="form-row"><div class="form-group"><label class="form-label">ë§¤ì¥ëª…</label><input class="form-input" id="f_name" placeholder="ê°•ë‚¨ìŠ¤ë§ˆì¼ì¹˜ê³¼"></div><div class="form-group"><label class="form-label">ì˜ë¬¸ëª…</label><input class="form-input" id="f_nameEn" placeholder="Gangnam Smile Dental"></div></div>
<div class="form-row"><div class="form-group"><label class="form-label">ì—…ì¢…</label><select class="form-select" id="f_category"><option value="">ì„ íƒ</option><option value="Dentist">ì¹˜ê³¼</option><option value="Hospital">ë³‘ì›</option><option value="BeautySalon">í”¼ë¶€/ë¯¸ìš©</option><option value="HairSalon">í—¤ì–´ìƒµ</option><option value="Restaurant">ìŒì‹ì </option><option value="CafeOrCoffeeShop">ì¹´í˜</option><option value="Store">ë§¤ì¥</option><option value="HealthClub">í”¼íŠ¸ë‹ˆìŠ¤/í—¬ìŠ¤</option><option value="LocalBusiness">ê¸°íƒ€</option></select></div><div class="form-group"><label class="form-label">ì „í™”</label><input class="form-input" id="f_phone" placeholder="02-555-1234"></div></div>
<div class="form-group"><label class="form-label">ì£¼ì†Œ</label><div style="display:flex;gap:.4rem"><input class="form-input" id="f_address" placeholder="ì„œìš¸ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 396" style="flex:1"><button class="btn btn-outline btn-sm" onclick="geocode('f_address','f_lat','f_lng','f_geo_status')" type="button">ì¢Œí‘œ ê²€ìƒ‰</button></div><span id="f_geo_status" style="font-size:.68rem;margin-top:.2rem;display:block"></span><input type="hidden" id="f_lat"><input type="hidden" id="f_lng"></div>
<div class="form-group"><label class="form-label">ì›¹ì‚¬ì´íŠ¸</label><input class="form-input" id="f_url" placeholder="https://"></div>
<div class="form-group"><label class="form-label">ì„¤ëª…</label><textarea class="form-textarea" id="f_desc" style="min-height:50px" placeholder="ë§¤ì¥ ì„¤ëª…"></textarea></div>
<div class="form-group"><label class="form-label">ìš´ì˜ì‹œê°„</label><input class="form-input" id="f_hours" placeholder="ì›”~ê¸ˆ 09:00-21:00"></div>
</div></div>
<div class="card"><div class="card-title" style="margin-bottom:.8rem">SNS ì±„ë„</div>
<p style="font-size:.72rem;color:var(--text-muted);margin-bottom:.5rem">ìš´ì˜ì¤‘ì¸ ì±„ë„ URL ì…ë ¥. ë¹ˆì¹¸ì€ ë¬´ì‹œë©ë‹ˆë‹¤.</p>
<div class="sns-row"><span class="sns-label" style="color:#f472b6">ì¸ìŠ¤íƒ€ê·¸ë¨</span><input class="form-input" id="f_insta" placeholder="https://instagram.com/"></div>
<div class="sns-row"><span class="sns-label" style="color:#fca5a5">ìœ íŠœë¸Œ</span><input class="form-input" id="f_youtube" placeholder="https://youtube.com/@"></div>
<div class="sns-row"><span class="sns-label" style="color:#6ee7b7">ë„¤ì´ë²„ë¸”ë¡œê·¸</span><input class="form-input" id="f_blog" placeholder="https://blog.naver.com/"></div>
<div class="sns-row"><span class="sns-label" style="color:#fde047">ì¹´ì¹´ì˜¤ì±„ë„</span><input class="form-input" id="f_kakao" placeholder="https://pf.kakao.com/"></div>
<div class="sns-row"><span class="sns-label" style="color:var(--accent-blue)">ê¸°íƒ€ ë§í¬</span><input class="form-input" id="f_other_link" placeholder="í™ˆí˜ì´ì§€, ì˜¤í”ˆì±„íŒ… ë“±"></div>
</div>
<div class="card"><div class="card-title" style="margin-bottom:.8rem">í‚¤ì›Œë“œ & FAQ</div>
<div class="form-group"><label class="form-label">í‚¤ì›Œë“œ (ì‰¼í‘œ)</label><input class="form-input" id="f_keywords" placeholder="ê°•ë‚¨ ì¹˜ê³¼, ì„í”Œë€íŠ¸"></div>
<div class="form-group"><label class="form-label">FAQ (ì§ˆë¬¸|ë‹µë³€, ì¤„ë§ˆë‹¤)</label><textarea class="form-textarea" id="f_faq" style="min-height:50px" placeholder="ë¹„ìš©?|80ë§Œ~180ë§Œì›"></textarea></div>
<div style="margin-top:.8rem"><button class="btn btn-success btn-lg" onclick="manualAddBiz()">ë§¤ì¥ ë“±ë¡</button></div>
</div></div>
</div>

<!-- í”„ë¦¬ëœì„œ ë“±ë¡ -->
<div id="page-add-free" class="page" style="display:none">
<div class="card" style="border-color:rgba(236,72,153,.3)"><div class="card-title" style="color:var(--accent-pink);margin-bottom:.3rem">í”„ë¦¬ëœì„œ ë“±ë¡</div><p style="font-size:.78rem;color:var(--text-muted)">ë³´í—˜ì„¤ê³„ì‚¬, ìë™ì°¨ë”œëŸ¬, ë¶€ë™ì‚°ì¤‘ê°œì‚¬, ì˜ì—…ì‚¬ì› ë“± ê°œì¸ ë¸Œëœë“œ</p></div>
<div class="card">
<div class="card-title" style="margin-bottom:.8rem">ê¸°ë³¸ ì •ë³´</div>
<div class="form-row"><div class="form-group"><label class="form-label">ì´ë¦„ (í™œë™ëª…)</label><input class="form-input" id="fl_name" placeholder="ê¹€ë³´í—˜"></div><div class="form-group"><label class="form-label">ì˜ë¬¸ëª…</label><input class="form-input" id="fl_nameEn" placeholder="Kim Insurance Pro"></div></div>
<div class="form-row"><div class="form-group"><label class="form-label">ì§ì¢…</label><select class="form-select" id="fl_job"><option value="InsuranceAgent">ë³´í—˜ì„¤ê³„ì‚¬</option><option value="CarDealer">ìë™ì°¨ë”œëŸ¬</option><option value="RealEstateAgent">ë¶€ë™ì‚°ì¤‘ê°œì‚¬</option><option value="FinancialAdvisor">ì¬ë¬´ì„¤ê³„ì‚¬</option><option value="SalesAgent">ì˜ì—…ì‚¬ì›</option><option value="Freelancer">í”„ë¦¬ëœì„œ ê¸°íƒ€</option></select></div><div class="form-group"><label class="form-label">ì†Œì†/íšŒì‚¬</label><input class="form-input" id="fl_company" placeholder="ì‚¼ì„±ìƒëª…, ë©”ë¥´ì„¸ë°ìŠ¤ë²¤ì¸  ê°•ë‚¨ ë“±"></div></div>
<div class="form-group"><label class="form-label">ì „í™”</label><input class="form-input" id="fl_phone" placeholder="010-1234-5678"></div>
<div class="form-group"><label class="form-label">í™œë™ ì§€ì—­ (ì‰¼í‘œ êµ¬ë¶„)</label><input class="form-input" id="fl_areas" placeholder="ê°•ë‚¨, ì„œì´ˆ, ë¶„ë‹¹, íŒêµ"></div>
<div class="form-group"><label class="form-label">í•œì¤„ ì†Œê°œ</label><input class="form-input" id="fl_tagline" placeholder="15ë…„ì°¨ ë³´í—˜ ì „ë¬¸ê°€, ë§ì¶¤ ì„¤ê³„"></div>
<div class="form-group"><label class="form-label">ìƒì„¸ ì†Œê°œ</label><textarea class="form-textarea" id="fl_desc" style="min-height:60px" placeholder="ê²½ë ¥, ì „ë¬¸ ë¶„ì•¼, ì°¨ë³„ì  ë“±"></textarea></div>
</div>
<div class="card">
<div class="card-title" style="margin-bottom:.8rem">SNS ì±„ë„</div>
<p style="font-size:.72rem;color:var(--text-muted);margin-bottom:.6rem">ìš´ì˜ì¤‘ì¸ ì±„ë„ URLì„ ì…ë ¥í•˜ì„¸ìš”. ë¹ˆì¹¸ì€ ë¬´ì‹œë©ë‹ˆë‹¤.</p>
<div class="sns-row"><span class="sns-label" style="color:#e1306c">ì¸ìŠ¤íƒ€ê·¸ë¨</span><input class="form-input" id="fl_insta" placeholder="https://instagram.com/username"></div>
<div class="sns-row"><span class="sns-label" style="color:#ff0000">ìœ íŠœë¸Œ</span><input class="form-input" id="fl_youtube" placeholder="https://youtube.com/@channel"></div>
<div class="sns-row"><span class="sns-label" style="color:#03c75a">ë„¤ì´ë²„ë¸”ë¡œê·¸</span><input class="form-input" id="fl_blog" placeholder="https://blog.naver.com/id"></div>
<div class="sns-row"><span class="sns-label" style="color:#b8a800">ì¹´ì¹´ì˜¤ì±„ë„</span><input class="form-input" id="fl_kakao" placeholder="https://pf.kakao.com/_xxxxx"></div>
<div class="sns-row"><span class="sns-label" style="color:#fff">í‹±í†¡</span><input class="form-input" id="fl_tiktok" placeholder="https://tiktok.com/@username"></div>
<div class="sns-row"><span class="sns-label" style="color:#1877f2">í˜ì´ìŠ¤ë¶</span><input class="form-input" id="fl_facebook" placeholder="https://facebook.com/page"></div>
<div class="sns-row"><span class="sns-label" style="color:var(--accent-blue)">ê¸°íƒ€ ë§í¬</span><input class="form-input" id="fl_other" placeholder="ì˜¤í”ˆì±„íŒ…, í™ˆí˜ì´ì§€ ë“±"></div>
</div>
<div class="card">
<div class="card-title" style="margin-bottom:.8rem">ì „ë¬¸ì„± & í‚¤ì›Œë“œ</div>
<div class="form-group"><label class="form-label">ìê²©ì¦ / ìˆ˜ìƒ (ì¤„ë§ˆë‹¤ 1ê°œ)</label><textarea class="form-textarea" id="fl_certs" style="min-height:50px" placeholder="ì†í•´ì‚¬ì •ì‚¬ ìê²©ì¦&#10;MDRT 2024&#10;ë³´í—˜ì™• ìˆ˜ìƒ 2023"></textarea></div>
<div class="form-group"><label class="form-label">ì „ë¬¸ ë¶„ì•¼ (ì‰¼í‘œ)</label><input class="form-input" id="fl_specialties" placeholder="ë³€ì•¡ë³´í—˜, ì¢…ì‹ ë³´í—˜, ì—°ê¸ˆì €ì¶•"></div>
<div class="form-group"><label class="form-label">ê²€ìƒ‰ í‚¤ì›Œë“œ (ì‰¼í‘œ)</label><input class="form-input" id="fl_keywords" placeholder="ê°•ë‚¨ ë³´í—˜ì„¤ê³„ì‚¬, ë³€ì•¡ë³´í—˜ ì¶”ì²œ, ë³´í—˜ ìƒë‹´"></div>
<div class="form-group"><label class="form-label">FAQ (ì§ˆë¬¸|ë‹µë³€, ì¤„ë§ˆë‹¤)</label><textarea class="form-textarea" id="fl_faq" style="min-height:50px" placeholder="ìƒë‹´ë¹„ìš©?|ë¬´ë£Œ ìƒë‹´&#10;ì–´ë–¤ë³´í—˜?|ë§ì¶¤ ì„¤ê³„ í›„ ì¶”ì²œ"></textarea></div>
</div>
<div style="display:flex;gap:.4rem"><button class="btn btn-pink btn-lg" onclick="addFreelancer()">í”„ë¦¬ëœì„œ ë“±ë¡</button><button class="btn btn-outline" onclick="clearFreeForm()">ì´ˆê¸°í™”</button></div>
</div>

<!-- ì „ì²´ ëª©ë¡ -->
<div id="page-list" class="page" style="display:none"><div class="card"><div class="card-header"><span class="card-title">ì „ì²´ ëª©ë¡</span><button class="btn btn-outline btn-sm" onclick="exportJSON()">JSON</button></div>
<table><thead><tr><th>ì´ë¦„</th><th>ìœ í˜•</th><th>ì—…ì¢…/ì§ì¢…</th><th>ì±„ë„</th><th>ìƒíƒœ</th><th></th></tr></thead><tbody id="fullTable"></tbody></table></div></div>

<!-- ì„¤ì • -->
<div id="page-settings" class="page" style="display:none">
<div class="card"><div class="card-title" style="margin-bottom:1rem">ì‹œìŠ¤í…œ ì„¤ì •</div>
<div class="setting-section"><div class="setting-title">ì¹´ì¹´ì˜¤ ë¡œì»¬ API <span id="kakaoStatus"></span></div>
<p style="font-size:.72rem;color:var(--text-muted);margin-bottom:.4rem">ë§¤ì¥ëª… ê²€ìƒ‰ â†’ ì£¼ì†Œ/ì „í™”/ì¢Œí‘œ ìë™ ì…ë ¥. <a href="https://developers.kakao.com/" target="_blank" style="color:var(--accent-blue)">developers.kakao.com</a> ì—ì„œ ë¬´ë£Œ ì•± í‚¤ ë°œê¸‰</p>
<div class="form-group"><input class="form-input api-key-input" id="s_kakaoKey" type="password" placeholder="REST API í‚¤ (KakaoAK ì—†ì´ í‚¤ë§Œ)" onblur="saveCfg()"></div>
<div style="display:flex;gap:.3rem"><button class="btn btn-outline btn-sm" onclick="toggleShow('s_kakaoKey')">ë³´ê¸°/ìˆ¨ê¸°ê¸°</button><button class="btn btn-primary btn-sm" onclick="testKakao()">í…ŒìŠ¤íŠ¸</button></div></div>
<div class="setting-section"><div class="setting-title">ë°°í¬</div>
<div class="form-row"><div class="form-group"><label class="form-label">ë°°í¬ ëŒ€ìƒ</label><select class="form-select" id="s_deployTarget" onchange="saveCfg()"><option value="github">GitHub Pages</option><option value="cloudflare">Cloudflare Pages</option></select></div><div class="form-group"><label class="form-label">ë„ë©”ì¸</label><input class="form-input" id="s_domain" placeholder="brands.studioaibotbot.com" onblur="saveCfg()"></div></div>
<div class="form-group"><label class="form-label">GitHub ì €ì¥ì†Œ</label><input class="form-input" id="s_repo" placeholder="ikjoobang/xivix-tower-control" onblur="saveCfg()"></div></div>
<div class="setting-section"><div class="setting-title">GitHub API í† í° <span id="ghStatus"></span></div>
<div class="form-group"><input class="form-input api-key-input" id="s_ghToken" type="password" placeholder="ghp_xxxx" onblur="saveCfg()"></div>
<div style="display:flex;gap:.3rem"><button class="btn btn-outline btn-sm" onclick="toggleShow('s_ghToken')">ë³´ê¸°/ìˆ¨ê¸°ê¸°</button><button class="btn btn-primary btn-sm" onclick="testGH()">í…ŒìŠ¤íŠ¸</button></div></div>
<div class="setting-section"><div class="setting-title">ë°ì´í„°</div>
<div style="display:flex;flex-wrap:wrap;gap:.3rem"><button class="btn btn-outline" onclick="exportJSON()">JSON ë‚´ë³´ë‚´ê¸°</button><button class="btn btn-outline" onclick="document.getElementById('importFile').click()">JSON ê°€ì ¸ì˜¤ê¸°</button><button class="btn btn-danger" onclick="resetAll()">ì „ì²´ ì´ˆê¸°í™”</button></div>
<input type="file" id="importFile" accept=".json" style="display:none" onchange="doImport(this)"></div>
</div></div>

<!-- ë¹Œë“œ -->
<div id="page-build" class="page" style="display:none"><div class="card"><div class="card-title" style="margin-bottom:.5rem">ë¹Œë“œ & ë°°í¬</div>
<div id="buildSummary" style="font-size:.78rem;color:var(--text-secondary);margin-bottom:.8rem;padding:.6rem;background:var(--bg-input);border-radius:6px"></div>
<div style="display:flex;flex-wrap:wrap;gap:.4rem"><button class="btn btn-success btn-lg" onclick="runBuild()">ë¹Œë“œ ì‹¤í–‰</button><button class="btn btn-primary btn-lg" onclick="runDeploy()">ë¹Œë“œ + ë°°í¬</button></div></div>

<div class="card"><div class="card-title" style="margin-bottom:.5rem">âœ… ìë™ ìµœì í™” (ë¹Œë“œ ì‹œ í¬í•¨)</div>
<div style="font-size:.78rem;line-height:1.8">
<div>ğŸ” <strong>SEO</strong> â€” Schema.org, meta tags, sitemap.xml, canonical URL</div>
<div>ğŸ¤– <strong>AEO</strong> â€” llms.txt, ai.txt, ai-plugin.json, FAQ Schema</div>
<div>ğŸ“ <strong>GEO</strong> â€” geo.position, ICBM, GeoCoordinates, areaServed, ì§€ë„ ë§í¬</div>
<div>ğŸ“Š <strong>C-RANK</strong> â€” ë„¤ì´ë²„ ì¹´í˜ í¬ìŠ¤íŠ¸ í…œí”Œë¦¿ ìë™ ìƒì„± (cafe-posts/)</div>
<div>ğŸš€ <strong>IndexNow</strong> â€” Bing, Yandex, Naver ì¦‰ì‹œ ìƒ‰ì¸ ìš”ì²­</div>
<div>ğŸ§  <strong>AI LLM</strong> â€” GPTBot, Claude, Perplexity ë“± 12ê°œ í¬ë¡¤ëŸ¬ í—ˆìš©</div>
</div></div>

<div class="card"><div class="card-title" style="margin-bottom:.5rem">ğŸ“‹ ì‚¬ì—…ìê°€ ì§ì ‘ í•´ì•¼ í•  ê²ƒ (1íšŒ)</div>
<div style="font-size:.78rem;line-height:2">
<div>ğŸ“ <a href="https://business.google.com" target="_blank" style="color:#2563eb;text-decoration:underline;font-weight:600">Google Business Profile ë“±ë¡</a> â€” êµ¬ê¸€ ì§€ë„ì— ë§¤ì¥ í‘œì‹œ (ì‚¬ì—…ì ì „í™” ì¸ì¦ í•„ìš”)</div>
<div>ğŸ“ <a href="https://new-m.place.naver.com/my/place" target="_blank" style="color:#2563eb;text-decoration:underline;font-weight:600">ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ë“±ë¡</a> â€” ë„¤ì´ë²„ ì§€ë„ì— ë§¤ì¥ í‘œì‹œ (ì‚¬ì—…ì ì¸ì¦ í•„ìš”)</div>
<div>ğŸ“ <a href="https://map.kakao.com/web/register" target="_blank" style="color:#2563eb;text-decoration:underline;font-weight:600">ì¹´ì¹´ì˜¤ë§µ ì¥ì†Œ ë“±ë¡</a> â€” ì¹´ì¹´ì˜¤ ì§€ë„ì— ë§¤ì¥ í‘œì‹œ</div>
<div style="margin-top:.3rem;color:var(--text-muted);font-size:.72rem">âš ï¸ ìœ„ 3ê°œëŠ” ì‚¬ì—…ì ë³¸ì¸ ì¸ì¦ì´ í•„ìš”í•´ì„œ ìë™í™” ë¶ˆê°€í•©ë‹ˆë‹¤. 1íšŒë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.</div>
</div></div>

<div class="card" id="buildConsole" style="display:none"><div class="card-title" style="margin-bottom:.4rem">ë¹Œë“œ ë¡œê·¸</div><div class="console" id="consoleOutput"></div></div></div>

<!-- ë¯¸ë¦¬ë³´ê¸° -->
<div id="page-preview" class="page" style="display:none"><div class="card"><div class="card-title" style="margin-bottom:.5rem">ë¯¸ë¦¬ë³´ê¸°</div>
<select class="form-select" id="previewSelect" style="margin-bottom:.5rem" onchange="updatePreview()"></select>
<div style="border:1px solid var(--border);border-radius:8px;overflow:hidden;background:#fff"><div style="padding:1rem;color:#1f2937;min-height:250px;font-size:.82rem;line-height:1.5" id="previewContent"></div></div></div></div>

</div></div></div>
<div class="toast" id="toast"></div>
<div class="modal-overlay" id="modalOverlay"><div class="modal" id="modalContent"></div></div>
<script>
let biz=[];let free=[];let cfg={domain:'brands.studioaibotbot.com',repo:'ikjoobang/xivix-tower-control',deployTarget:'github',ghToken:'',kakaoKey:''};
try{biz=JSON.parse(localStorage.getItem('xivix_biz3'))||[];}catch(e){}
try{free=JSON.parse(localStorage.getItem('xivix_free'))||[];}catch(e){}
try{cfg={...cfg,...JSON.parse(localStorage.getItem('xivix_cfg2'))};}catch(e){}
if(!biz.length&&!free.length){
biz=[{id:"gangnam-dental",name:"ê°•ë‚¨ìŠ¤ë§ˆì¼ì¹˜ê³¼",nameEn:"Gangnam Smile Dental",type:"Dentist",category:"ì¹˜ê³¼",description:"ê°•ë‚¨ì—­ 3ë²ˆì¶œêµ¬, ì„í”Œë€íŠ¸/êµì • ì „ë¬¸",address:"ì„œìš¸ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 396",phone:"02-555-1234",url:"https://gangnam-smile.co.kr",lat:37.4979,lng:127.0276,hours:"ì›”~ê¸ˆ 09:00-21:00",sns:{instagram:"https://instagram.com/gangnam_smile",youtube:"",blog:"https://blog.naver.com/gangnam_smile",kakao:"",other:""},keywords:["ê°•ë‚¨ ì¹˜ê³¼","ì„í”Œë€íŠ¸"],faq:[{q:"ì„í”Œë€íŠ¸ ë¹„ìš©?",a:"80ë§Œ~180ë§Œì›"}],maps:["google","naver","kakao"],status:"active",crankEnabled:true}];
free=[{id:"kim-insurance",name:"ê¹€ë³´í—˜í”„ë¡œ",nameEn:"Kim Insurance Pro",job:"InsuranceAgent",jobLabel:"ë³´í—˜ì„¤ê³„ì‚¬",company:"ì‚¼ì„±ìƒëª… ê°•ë‚¨ì§€ì ",phone:"010-1234-5678",areas:["ê°•ë‚¨","ì„œì´ˆ","ë¶„ë‹¹"],tagline:"15ë…„ì°¨ ë³´í—˜ ì „ë¬¸ê°€, ë§ì¶¤ ì„¤ê³„",description:"MDRT 5íšŒ ë‹¬ì„±. ë³€ì•¡ë³´í—˜/ì¢…ì‹ ë³´í—˜/ì—°ê¸ˆì €ì¶• ì „ë¬¸. ê³ ê° 800ëª… ê´€ë¦¬ì¤‘.",sns:{instagram:"https://instagram.com/kim_insurance",youtube:"https://youtube.com/@kim-insurance",blog:"https://blog.naver.com/kim_insurance",kakao:"https://pf.kakao.com/_kim",tiktok:"",facebook:"",other:""},certs:["ì†í•´ì‚¬ì •ì‚¬","MDRT 2024","ë³´í—˜ì™• 2023"],specialties:["ë³€ì•¡ë³´í—˜","ì¢…ì‹ ë³´í—˜","ì—°ê¸ˆì €ì¶•","ì‹¤ì†ë³´í—˜"],keywords:["ê°•ë‚¨ ë³´í—˜ì„¤ê³„ì‚¬","ë³€ì•¡ë³´í—˜ ì¶”ì²œ","ë³´í—˜ ìƒë‹´ ë¬´ë£Œ"],faq:[{q:"ìƒë‹´ ë¹„ìš©?",a:"ë¬´ë£Œ ìƒë‹´"},{q:"ì–´ë–¤ ë³´í—˜?",a:"ë§ì¶¤ ì„¤ê³„ í›„ ì¶”ì²œ"}],status:"active",crankEnabled:true}];
svBiz();svFree();
}
function svBiz(){localStorage.setItem('xivix_biz3',JSON.stringify(biz));}
function svFree(){localStorage.setItem('xivix_free',JSON.stringify(free));}
function saveCfg(){cfg.domain=gi('s_domain')||cfg.domain;cfg.repo=gi('s_repo')||cfg.repo;cfg.deployTarget=gi('s_deployTarget');cfg.ghToken=gi('s_ghToken');cfg.kakaoKey=gi('s_kakaoKey');localStorage.setItem('xivix_cfg2',JSON.stringify(cfg));toast('ì„¤ì • ì €ì¥');}
function loadCfg(){si('s_domain',cfg.domain);si('s_repo',cfg.repo);si('s_deployTarget',cfg.deployTarget);si('s_ghToken',cfg.ghToken);si('s_kakaoKey',cfg.kakaoKey);const gh=document.getElementById('ghStatus');if(gh)gh.innerHTML=cfg.ghToken?'<span class="key-status key-ok">ì—°ê²°ë¨</span>':'<span class="key-status key-none">ë¯¸ì„¤ì •</span>';const kk=document.getElementById('kakaoStatus');if(kk)kk.innerHTML=cfg.kakaoKey?'<span class="key-status key-ok">ì„¤ì •ë¨</span>':'<span class="key-status key-none">ë¯¸ì„¤ì •</span>';}
function gi(id){const e=document.getElementById(id);return e?e.value:'';}
function si(id,v){const e=document.getElementById(id);if(e)e.value=v||'';}
function toggleShow(id){const e=document.getElementById(id);if(e)e.type=e.type==='password'?'text':'password';}
function testGH(){if(!cfg.ghToken)return toast('í† í° ë¨¼ì € ì…ë ¥');fetch('https://api.github.com/user',{headers:{Authorization:'token '+cfg.ghToken}}).then(r=>r.json()).then(d=>toast(d.login?'ì—°ê²° ì„±ê³µ: '+d.login:'ì‹¤íŒ¨')).catch(()=>toast('ì‹¤íŒ¨'));}
function openSidebar(){document.getElementById('sidebar').classList.add('open');document.getElementById('mobileOverlay').classList.add('show');}
function closeSidebar(){document.getElementById('sidebar').classList.remove('open');document.getElementById('mobileOverlay').classList.remove('show');}
const PT={guide:'ì‚¬ìš© ê°€ì´ë“œ',dashboard:'ëŒ€ì‹œë³´ë“œ','add-biz':'ë§¤ì¥ ë“±ë¡','add-free':'í”„ë¦¬ëœì„œ ë“±ë¡',list:'ì „ì²´ ëª©ë¡',settings:'ì„¤ì •',build:'ë¹Œë“œ & ë°°í¬',preview:'ë¯¸ë¦¬ë³´ê¸°'};
function go(n){closeSidebar();document.querySelectorAll('.page').forEach(p=>p.style.display='none');document.querySelectorAll('.nav-item').forEach(x=>x.classList.remove('active'));const pg=document.getElementById('page-'+n);if(pg)pg.style.display='block';document.getElementById('pageTitle').textContent=PT[n]||n;document.querySelectorAll('.nav-item[data-page="'+n+'"]').forEach(x=>x.classList.add('active'));renderAll();if(n==='settings')loadCfg();if(n==='build')updateBuildSummary();window.scrollTo(0,0);}
function renderAll(){renderStats();renderDash();renderFullList();renderPrevSel();}
const jobMap={InsuranceAgent:'ë³´í—˜ì„¤ê³„ì‚¬',CarDealer:'ìë™ì°¨ë”œëŸ¬',RealEstateAgent:'ë¶€ë™ì‚°ì¤‘ê°œì‚¬',FinancialAdvisor:'ì¬ë¬´ì„¤ê³„ì‚¬',SalesAgent:'ì˜ì—…ì‚¬ì›',Freelancer:'í”„ë¦¬ëœì„œ'};
const catMap={Dentist:'ì¹˜ê³¼',Hospital:'ë³‘ì›',Restaurant:'ìŒì‹ì ',CafeOrCoffeeShop:'ì¹´í˜',BeautySalon:'í”¼ë¶€/ë¯¸ìš©',HairSalon:'í—¤ì–´ìƒµ',Store:'ë§¤ì¥',HealthClub:'í”¼íŠ¸ë‹ˆìŠ¤',LocalBusiness:'ê¸°íƒ€'};
function renderStats(){const sg=document.getElementById('statsGrid');if(!sg)return;sg.innerHTML='<div class="stat-card blue"><div class="stat-value">'+(biz.length+free.length)+'</div><div class="stat-label">ì „ì²´ ë“±ë¡</div></div><div class="stat-card green"><div class="stat-value">'+biz.filter(b=>b.status==='active').length+'</div><div class="stat-label">ë§¤ì¥</div></div><div class="stat-card pink"><div class="stat-value">'+free.filter(f=>f.status==='active').length+'</div><div class="stat-label">í”„ë¦¬ëœì„œ</div></div><div class="stat-card purple"><div class="stat-value">'+(biz.length+free.length)+'</div><div class="stat-label">SEO</div></div><div class="stat-card amber"><div class="stat-value">'+[...biz,...free].filter(x=>x.crankEnabled).length+'</div><div class="stat-label">C-RANK</div></div><div class="stat-card cyan"><div class="stat-value">'+countSNS()+'</div><div class="stat-label">SNS ì±„ë„</div></div>';}
function countSNS(){let c=0;[...biz,...free].forEach(f=>{if(f.sns)Object.values(f.sns).forEach(v=>{if(v)c++;});});return c;}
function snsIcons(sns){if(!sns)return'-';return Object.entries(sns).filter(([k,v])=>v).map(([k,v])=>{const cls={instagram:'insta',youtube:'youtube',blog:'blog',kakao:'kakao',tiktok:'tiktok',facebook:'facebook',other:'other'};return'<a href="'+v+'" target="_blank" class="sns-link '+(cls[k]||'other')+'">'+k.slice(0,2).toUpperCase()+'</a>';}).join(' ')||'-';}
function renderDash(){const t=document.getElementById('dashTable');if(!t)return;let h='';biz.forEach(b=>{h+='<tr><td><strong>'+b.name+'</strong></td><td><span class="status status-biz">ë§¤ì¥</span></td><td>'+(b.category||catMap[b.type]||'')+'</td><td>'+snsIcons(b.sns)+'</td><td><span class="status status-active">ìš´ì˜</span></td><td><button class="btn btn-outline btn-sm" onclick="editBiz(\''+b.id+'\')">ìˆ˜ì •</button> <button class="btn btn-danger btn-sm" onclick="removeBiz(\''+b.id+'\')">ì‚­ì œ</button></td></tr>';});
free.forEach(f=>{h+='<tr><td><strong>'+f.name+'</strong></td><td><span class="status status-free">í”„ë¦¬ëœì„œ</span></td><td>'+(f.jobLabel||jobMap[f.job]||'')+'</td><td>'+snsIcons(f.sns)+'</td><td><span class="status status-active">ìš´ì˜</span></td><td><button class="btn btn-outline btn-sm" onclick="editFree(\''+f.id+'\')">ìˆ˜ì •</button> <button class="btn btn-danger btn-sm" onclick="removeFree(\''+f.id+'\')">ì‚­ì œ</button></td></tr>';});t.innerHTML=h;}
function renderFullList(){const t=document.getElementById('fullTable');if(!t)return;let h='';biz.forEach(b=>{h+='<tr><td><strong>'+b.name+'</strong></td><td><span class="status status-biz">ë§¤ì¥</span></td><td>'+(b.category||'')+'</td><td>'+snsIcons(b.sns)+'</td><td><span class="status status-active">ìš´ì˜</span></td><td><button class="btn btn-outline btn-sm" onclick="editBiz(\''+b.id+'\')">ìˆ˜ì •</button></td></tr>';});
free.forEach(f=>{h+='<tr><td><strong>'+f.name+'</strong></td><td><span class="status status-free">í”„ë¦¬ëœì„œ</span></td><td>'+(f.jobLabel||'')+'</td><td>'+snsIcons(f.sns)+'</td><td><span class="status status-active">ìš´ì˜</span></td><td><button class="btn btn-outline btn-sm" onclick="editFree(\''+f.id+'\')">ìˆ˜ì •</button></td></tr>';});t.innerHTML=h;}
function updateBuildSummary(){const el=document.getElementById('buildSummary');if(!el)return;el.innerHTML='ë§¤ì¥: <strong>'+biz.length+'</strong> | í”„ë¦¬ëœì„œ: <strong>'+free.length+'</strong> | ë„ë©”ì¸: <strong>'+cfg.domain+'</strong>';}
// Smart Paste (biz)
function switchBizTab(t,el){document.querySelectorAll('#page-add-biz .tab').forEach(x=>x.classList.remove('active'));el.classList.add('active');document.getElementById('bizTab-search').style.display=t==='search'?'block':'none';document.getElementById('bizTab-paste').style.display=t==='paste'?'block':'none';document.getElementById('bizTab-manual').style.display=t==='manual'?'block':'none';}
function smartParse(){const raw=gi('smartPasteInput').trim();if(!raw)return toast('ë°ì´í„°ë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”');const r={name:'',nameEn:'',type:'LocalBusiness',address:'',phone:'',url:'',lat:'',lng:'',hours:'',description:''};
// URL only check
const isUrlOnly=raw.match(/^https?:\/\/\S+$/);if(isUrlOnly){r.url=raw;document.getElementById('parsedFields').innerHTML='<div style="padding:.8rem;background:rgba(251,191,36,.1);border:1px solid rgba(251,191,36,.3);border-radius:8px;margin-bottom:.8rem"><div style="font-weight:600;color:var(--accent-amber);margin-bottom:.3rem">URLë§Œ ê°ì§€ë¨</div><div style="font-size:.78rem;color:var(--text-secondary);line-height:1.5">URLë§Œìœ¼ë¡œëŠ” ë§¤ì¥ ì •ë³´ë¥¼ ìë™ ë¶„ë¥˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>ì•„ë˜ ì •ë³´ë¥¼ í•¨ê»˜ ë¶™ì—¬ë„£ì–´ì£¼ì„¸ìš”:</div><div style="font-size:.75rem;color:var(--text-muted);margin-top:.4rem;font-family:JetBrains Mono;background:var(--bg-input);padding:.5rem;border-radius:4px;line-height:1.8">ê°•ë‚¨ìŠ¤ë§ˆì¼ì¹˜ê³¼<br>ì„œìš¸ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 396<br>02-555-1234<br>ì›”~ê¸ˆ 09:00-21:00<br>https://gangnam-smile.co.kr</div></div>'+'<div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ë§¤ì¥ëª… <span style="color:var(--accent-amber)">[ì§ì ‘ ì…ë ¥]</span></label><input class="form-input" id="parsed_name" value=""></div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ì—…ì¢…</label><select class="form-select" id="parsed_type">'+Object.entries(catMap).map(([v,n])=>'<option value="'+v+'">'+n+'</option>').join('')+'</select></div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ì£¼ì†Œ</label><input class="form-input" id="parsed_address" value=""></div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ì „í™”</label><input class="form-input" id="parsed_phone" value=""></div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ì›¹ì‚¬ì´íŠ¸ <span style="color:var(--accent-green)">[ê°ì§€]</span></label><input class="form-input" id="parsed_url" value="'+raw+'"></div><input type="hidden" id="parsed_lat" value=""><input type="hidden" id="parsed_lng" value=""><div style="display:flex;gap:.3rem;align-items:center;margin-top:.3rem"><button class="btn btn-outline btn-sm" onclick="geocode(\'parsed_address\',\'parsed_lat\',\'parsed_lng\',\'parsed_geo_st2\')" type="button">ì¢Œí‘œ ìë™ ê²€ìƒ‰</button><span id="parsed_geo_st2" style="font-size:.68rem"></span></div>';document.getElementById('parseResult').style.display='block';toast('URLë§Œ ê°ì§€ - ë§¤ì¥ ì •ë³´ë¥¼ ì¶”ê°€ ì…ë ¥í•˜ì„¸ìš”');return;}
// Normal parse
const pm=raw.match(/(0\d{1,2}[-.\s]?\d{3,4}[-.\s]?\d{4})/);if(pm)r.phone=pm[0];const um=raw.match(/(https?:\/\/[^\s,]+)/);if(um)r.url=um[0];const am=raw.match(/(ì„œìš¸|ë¶€ì‚°|ëŒ€êµ¬|ì¸ì²œ|ê´‘ì£¼|ëŒ€ì „|ìš¸ì‚°|ê²½ê¸°|ê°•ì›|ì¶©ë¶|ì¶©ë‚¨|ì „ë¶|ì „ë‚¨|ê²½ë¶|ê²½ë‚¨|ì œì£¼)[^\n,]*?(êµ¬|ì‹œ|êµ°)[^\n,]*?(ë¡œ|ê¸¸|ë™)\s*\d*/);if(am)r.address=am[0].trim();const cm=raw.match(/@([\d.]+),([\d.]+)/);if(cm){r.lat=cm[1];r.lng=cm[2];}const cp={Dentist:/ì¹˜ê³¼|dental/i,Hospital:/ë³‘ì›|hospital|ì˜ì›|í´ë¦¬ë‹‰/i,BeautySalon:/í”¼ë¶€|ë·°í‹°|ì—ìŠ¤í…Œí‹±|beauty|skin/i,HairSalon:/í—¤ì–´|ë¯¸ìš©ì‹¤|hair/i,Restaurant:/ë§›ì§‘|ì‹ë‹¹|ê³ ê¸°|êµ¬ì´|ë°¥/i,CafeOrCoffeeShop:/ì¹´í˜|ì»¤í”¼|cafe/i,HealthClub:/í—¬ìŠ¤|í”¼íŠ¸ë‹ˆìŠ¤|gym|fitness/i};for(const[t,p]of Object.entries(cp)){if(p.test(raw)){r.type=t;break;}}
// Name: skip URLs, emails, phone-only lines
const lines=raw.split('\n').map(l=>l.trim()).filter(Boolean);for(const line of lines){if(/^https?:\/\//.test(line))continue;if(/^0\d{1,2}[-.\s]?\d{3,4}[-.\s]?\d{4}$/.test(line))continue;if(/^[\d\s\-+().]+$/.test(line))continue;const c=line.replace(/[^\wê°€-í£\s]/g,'').trim();if(c.length>=2&&c.length<30){r.name=c;break;}}
const labels={name:'ë§¤ì¥ëª…',type:'ì—…ì¢…',address:'ì£¼ì†Œ',phone:'ì „í™”',url:'ì›¹ì‚¬ì´íŠ¸'};document.getElementById('parsedFields').innerHTML=Object.entries(labels).map(([k,l])=>'<div class="form-group" style="margin-bottom:.3rem"><label class="form-label">'+l+(r[k]?' <span style="color:var(--accent-green)">[ê°ì§€]</span>':' <span style="color:var(--text-muted)">[ì§ì ‘ ì…ë ¥]</span>')+'</label>'+(k==='type'?'<select class="form-select" id="parsed_'+k+'">'+Object.entries(catMap).map(([v,n])=>'<option value="'+v+'"'+(r[k]===v?' selected':'')+'>'+n+'</option>').join('')+'</select>':'<input class="form-input" id="parsed_'+k+'" value="'+(r[k]||'')+'">')+'</div>').join('')+'<input type="hidden" id="parsed_lat" value="'+(r.lat||'')+'"><input type="hidden" id="parsed_lng" value="'+(r.lng||'')+'"><div style="display:flex;gap:.3rem;align-items:center;margin-top:.3rem"><button class="btn btn-outline btn-sm" onclick="geocode(\'parsed_address\',\'parsed_lat\',\'parsed_lng\',\'parsed_geo_st\')" type="button">ì¢Œí‘œ ìë™ ê²€ìƒ‰</button><span id="parsed_geo_st" style="font-size:.68rem"></span></div>';document.getElementById('parseResult').style.display='block';
if(r.address&&!r.lat){setTimeout(()=>geocode('parsed_address','parsed_lat','parsed_lng','parsed_geo_st'),300);}
toast(r.name?'ë¶„ë¥˜ ì™„ë£Œ':'ì¼ë¶€ ê°ì§€ - ë‚˜ë¨¸ì§€ ì§ì ‘ ì…ë ¥');}
function confirmAdd(){const n=gi('parsed_name');if(!n)return toast('ë§¤ì¥ëª… ì…ë ¥');const t=gi('parsed_type');biz.push({id:slugify(n),name:n,nameEn:'',type:t,category:catMap[t]||'ê¸°íƒ€',description:'',address:gi('parsed_address'),phone:gi('parsed_phone'),url:gi('parsed_url'),lat:parseFloat(gi('parsed_lat'))||0,lng:parseFloat(gi('parsed_lng'))||0,hours:'',sns:{instagram:'',youtube:'',blog:'',kakao:'',other:''},keywords:[],faq:[],maps:['google','naver','kakao'],status:'active',crankEnabled:true});svBiz();renderAll();document.getElementById('parseResult').style.display='none';document.getElementById('smartPasteInput').value='';toast(n+' ë“±ë¡');}
function manualAddBiz(){const n=gi('f_name');if(!n)return toast('ë§¤ì¥ëª… ì…ë ¥');const t=gi('f_category')||'LocalBusiness';const faq=gi('f_faq').split('\n').filter(l=>l.includes('|')).map(l=>{const[q,a]=l.split('|');return{q:q.trim(),a:(a||'').trim()};});biz.push({id:slugify(n),name:n,nameEn:gi('f_nameEn'),type:t,category:catMap[t]||'ê¸°íƒ€',description:gi('f_desc'),address:gi('f_address'),phone:gi('f_phone'),url:gi('f_url'),lat:parseFloat(gi('f_lat'))||0,lng:parseFloat(gi('f_lng'))||0,hours:gi('f_hours'),sns:{instagram:gi('f_insta'),youtube:gi('f_youtube'),blog:gi('f_blog'),kakao:gi('f_kakao'),other:gi('f_other_link')},keywords:gi('f_keywords').split(',').map(s=>s.trim()).filter(Boolean),faq,maps:['google','naver','kakao'],status:'active',crankEnabled:true});svBiz();renderAll();toast(n+' ë“±ë¡');['f_name','f_nameEn','f_phone','f_url','f_address','f_lat','f_lng','f_desc','f_hours','f_keywords','f_faq','f_insta','f_youtube','f_blog','f_kakao','f_other_link'].forEach(id=>si(id,''));}
// Freelancer add
function addFreelancer(){const n=gi('fl_name');if(!n)return toast('ì´ë¦„ ì…ë ¥');const job=gi('fl_job');free.push({id:slugify(n),name:n,nameEn:gi('fl_nameEn'),job,jobLabel:jobMap[job]||'í”„ë¦¬ëœì„œ',company:gi('fl_company'),phone:gi('fl_phone'),areas:gi('fl_areas').split(',').map(s=>s.trim()).filter(Boolean),tagline:gi('fl_tagline'),description:gi('fl_desc'),sns:{instagram:gi('fl_insta'),youtube:gi('fl_youtube'),blog:gi('fl_blog'),kakao:gi('fl_kakao'),tiktok:gi('fl_tiktok'),facebook:gi('fl_facebook'),other:gi('fl_other')},certs:gi('fl_certs').split('\n').map(s=>s.trim()).filter(Boolean),specialties:gi('fl_specialties').split(',').map(s=>s.trim()).filter(Boolean),keywords:gi('fl_keywords').split(',').map(s=>s.trim()).filter(Boolean),faq:gi('fl_faq').split('\n').filter(l=>l.includes('|')).map(l=>{const[q,a]=l.split('|');return{q:q.trim(),a:(a||'').trim()};}),status:'active',crankEnabled:true});svFree();renderAll();toast(n+' ë“±ë¡');clearFreeForm();}
function clearFreeForm(){['fl_name','fl_nameEn','fl_company','fl_phone','fl_areas','fl_tagline','fl_desc','fl_insta','fl_youtube','fl_blog','fl_kakao','fl_tiktok','fl_facebook','fl_other','fl_certs','fl_specialties','fl_keywords','fl_faq'].forEach(id=>si(id,''));}
// Edit / Delete
function editBiz(id){const b=biz.find(x=>x.id===id);if(!b)return;const sn=b.sns||{};document.getElementById('modalContent').innerHTML='<h3>'+b.name+' ìˆ˜ì •</h3><div class="form-group"><label class="form-label">ë§¤ì¥ëª…</label><input class="form-input" id="e_name" value="'+b.name+'"></div><div class="form-group"><label class="form-label">ì„¤ëª…</label><textarea class="form-textarea" id="e_desc" style="min-height:40px">'+(b.description||'')+'</textarea></div><div class="form-group"><label class="form-label">ì „í™”</label><input class="form-input" id="e_phone" value="'+b.phone+'"></div><div class="form-group"><label class="form-label">ì£¼ì†Œ</label><input class="form-input" id="e_addr" value="'+(b.address||'')+'"></div><div style="font-weight:600;font-size:.82rem;margin:.6rem 0 .3rem;color:var(--text-primary)">SNS ì±„ë„</div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ì¸ìŠ¤íƒ€ê·¸ë¨</label><input class="form-input" id="e_insta" value="'+(sn.instagram||'')+'"></div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ìœ íŠœë¸Œ</label><input class="form-input" id="e_youtube" value="'+(sn.youtube||'')+'"></div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ë„¤ì´ë²„ë¸”ë¡œê·¸</label><input class="form-input" id="e_blog" value="'+(sn.blog||'')+'"></div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ì¹´ì¹´ì˜¤ì±„ë„</label><input class="form-input" id="e_kakao_ch" value="'+(sn.kakao||'')+'"></div><div class="form-group" style="margin-bottom:.3rem"><label class="form-label">ê¸°íƒ€</label><input class="form-input" id="e_other_link" value="'+(sn.other||'')+'"></div><div class="form-group"><label class="form-label">í‚¤ì›Œë“œ</label><input class="form-input" id="e_kw" value="'+(b.keywords||[]).join(', ')+'"></div><div style="display:flex;gap:.3rem;margin-top:.8rem"><button class="btn btn-success" onclick="doEditBiz(\''+id+'\')">ì €ì¥</button><button class="btn btn-outline" onclick="closeModal()">ì·¨ì†Œ</button></div>';document.getElementById('modalOverlay').classList.add('show');}
function doEditBiz(id){const b=biz.find(x=>x.id===id);if(!b)return;b.name=gi('e_name');b.description=gi('e_desc');b.phone=gi('e_phone');b.address=gi('e_addr');if(!b.sns)b.sns={};b.sns.instagram=gi('e_insta');b.sns.youtube=gi('e_youtube');b.sns.blog=gi('e_blog');b.sns.kakao=gi('e_kakao_ch');b.sns.other=gi('e_other_link');b.keywords=gi('e_kw').split(',').map(s=>s.trim()).filter(Boolean);svBiz();renderAll();closeModal();toast('ìˆ˜ì • ì™„ë£Œ');}
function removeBiz(id){if(!confirm('ì‚­ì œ?'))return;biz=biz.filter(b=>b.id!==id);svBiz();renderAll();toast('ì‚­ì œ');}
function editFree(id){const f=free.find(x=>x.id===id);if(!f)return;const sn=f.sns||{};document.getElementById('modalContent').innerHTML='<h3>'+f.name+' ìˆ˜ì •</h3><div class="form-group"><label class="form-label">ì´ë¦„</label><input class="form-input" id="ef_name" value="'+f.name+'"></div><div class="form-group"><label class="form-label">ì†Œì†</label><input class="form-input" id="ef_company" value="'+(f.company||'')+'"></div><div class="form-group"><label class="form-label">ì†Œê°œ</label><textarea class="form-textarea" id="ef_desc" style="min-height:40px">'+(f.description||'')+'</textarea></div><div class="form-group"><label class="form-label">ì „í™”</label><input class="form-input" id="ef_phone" value="'+f.phone+'"></div><div class="form-group"><label class="form-label">í™œë™ì§€ì—­</label><input class="form-input" id="ef_areas" value="'+(f.areas||[]).join(', ')+'"></div><div class="form-group"><label class="form-label">ì¸ìŠ¤íƒ€ê·¸ë¨</label><input class="form-input" id="ef_insta" value="'+(sn.instagram||'')+'"></div><div class="form-group"><label class="form-label">ìœ íŠœë¸Œ</label><input class="form-input" id="ef_youtube" value="'+(sn.youtube||'')+'"></div><div class="form-group"><label class="form-label">ë„¤ì´ë²„ë¸”ë¡œê·¸</label><input class="form-input" id="ef_blog" value="'+(sn.blog||'')+'"></div><div class="form-group"><label class="form-label">ì¹´ì¹´ì˜¤ì±„ë„</label><input class="form-input" id="ef_kakao" value="'+(sn.kakao||'')+'"></div><div class="form-group"><label class="form-label">í‚¤ì›Œë“œ</label><input class="form-input" id="ef_kw" value="'+(f.keywords||[]).join(', ')+'"></div><div style="display:flex;gap:.3rem;margin-top:.8rem"><button class="btn btn-pink" onclick="doEditFree(\''+id+'\')">ì €ì¥</button><button class="btn btn-outline" onclick="closeModal()">ì·¨ì†Œ</button></div>';document.getElementById('modalOverlay').classList.add('show');}
function doEditFree(id){const f=free.find(x=>x.id===id);if(!f)return;f.name=gi('ef_name');f.company=gi('ef_company');f.description=gi('ef_desc');f.phone=gi('ef_phone');f.areas=gi('ef_areas').split(',').map(s=>s.trim()).filter(Boolean);if(!f.sns)f.sns={};f.sns.instagram=gi('ef_insta');f.sns.youtube=gi('ef_youtube');f.sns.blog=gi('ef_blog');f.sns.kakao=gi('ef_kakao');f.keywords=gi('ef_kw').split(',').map(s=>s.trim()).filter(Boolean);svFree();renderAll();closeModal();toast('ìˆ˜ì • ì™„ë£Œ');}
function removeFree(id){if(!confirm('ì‚­ì œ?'))return;free=free.filter(f=>f.id!==id);svFree();renderAll();toast('ì‚­ì œ');}
// Build
function runBuild(){const con=document.getElementById('buildConsole');const out=document.getElementById('consoleOutput');con.style.display='block';out.innerHTML='';const ab=biz.filter(b=>b.status==='active');const af=free.filter(f=>f.status==='active');const L=[{c:'c-info',t:'=== XIVIX Tower Control ë¹Œë“œ ==='},{c:'c-dim',t:'ë„ë©”ì¸: '+cfg.domain},{c:'c-dim',t:'ë§¤ì¥: '+ab.length+' | í”„ë¦¬ëœì„œ: '+af.length},{c:'',t:''}];
ab.forEach(b=>{L.push({c:'c-ok',t:'  [ë§¤ì¥] '+b.name+' > index.html + llms.txt'});});
af.forEach(f=>{L.push({c:'c-pink',t:'  [í”„ë¦¬ëœì„œ] '+f.name+' > linkhub.html + profile.json'});L.push({c:'c-pink',t:'    Schema: Person + '+f.job});const sc=Object.values(f.sns||{}).filter(Boolean).length;if(sc)L.push({c:'c-dim',t:'    SNS '+sc+'ê°œ ì±„ë„ ì—°ë™'});});
L.push({c:'',t:''},{c:'c-ok',t:'  sitemap.xml / robots.txt / llms.txt'},{c:'c-ok',t:'  ai.txt / .well-known/ai-plugin.json (AI LLM)'},{c:'c-ok',t:'  crank-config.json (C-RANK)'},{c:'c-ok',t:'  cafe-posts/ (ì¹´í˜ í¬ìŠ¤íŠ¸ í…œí”Œë¦¿)'},{c:'',t:''},{c:'c-info',t:'ğŸ” SEO â€” Schema.org + meta + sitemap + canonical'},{c:'c-info',t:'ğŸ¤– AEO â€” llms.txt + ai.txt + FAQ Schema'},{c:'c-info',t:'ğŸ“ GEO â€” geo.position + ICBM + areaServed'},{c:'c-info',t:'ğŸ“Š C-RANK â€” ì¹´í˜ í¬ìŠ¤íŠ¸ ìë™ ìƒì„±'},{c:'c-info',t:'ğŸš€ IndexNow â€” ê²€ìƒ‰ì—”ì§„ ì¦‰ì‹œ ì œì¶œ'},{c:'c-info',t:'ğŸ§  AI â€” GPTBot/Claude/Perplexity í¬ë¡¤ëŸ¬ í—ˆìš©'},{c:'',t:''},{c:'c-info',t:'ë¹Œë“œ ì™„ë£Œ!'},{c:'c-warn',t:'âš ï¸ ì‹œë®¬ë ˆì´ì…˜ì…ë‹ˆë‹¤. ì‹¤ì œ ë¹Œë“œ: data.json ë‚´ë³´ë‚´ê¸° â†’ node scripts/build.js'});
let i=0;const iv=setInterval(()=>{if(i>=L.length){clearInterval(iv);return;}out.innerHTML+='<div class="'+L[i].c+'">'+(L[i].t||'&nbsp;')+'</div>';out.scrollTop=out.scrollHeight;i++;},70);}
function runDeploy(){runBuild();const total=biz.length+free.length;setTimeout(()=>{const out=document.getElementById('consoleOutput');[{c:'',t:''},{c:'c-info',t:'ë°°í¬ ì‹œì‘...'},{c:'c-warn',t:'  '+cfg.domain},{c:'c-ok',t:'  [OK] ì—…ë¡œë“œ'},{c:'c-ok',t:'  [OK] ì™„ë£Œ!'}].forEach((l,i)=>setTimeout(()=>{out.innerHTML+='<div class="'+l.c+'">'+(l.t||'&nbsp;')+'</div>';out.scrollTop=out.scrollHeight;},i*100));},total*2*70+500);}
// Preview
function renderPrevSel(){const s=document.getElementById('previewSelect');if(!s)return;s.innerHTML='<option value="index">ë””ë ‰í† ë¦¬</option>'+biz.map(b=>'<option value="biz:'+b.id+'">[ë§¤ì¥] '+b.name+'</option>').join('')+free.map(f=>'<option value="free:'+f.id+'">[í”„ë¦¬ëœì„œ] '+f.name+'</option>').join('');updatePreview();}
function updatePreview(){const sel=gi('previewSelect');const el=document.getElementById('previewContent');if(!el)return;if(sel==='index'){el.innerHTML='<h2 style="margin-bottom:.5rem">Brand Directory</h2>'+biz.filter(b=>b.status==='active').map(b=>'<div style="border:1px solid #e5e7eb;border-radius:8px;padding:.6rem;margin-bottom:.4rem"><strong>'+b.name+'</strong> <span style="color:#3b82f6;font-size:.72rem">ë§¤ì¥</span><br><span style="color:#6b7280;font-size:.8rem">'+b.description+'</span></div>').join('')+free.filter(f=>f.status==='active').map(f=>'<div style="border:1px solid #fce7f3;border-radius:8px;padding:.6rem;margin-bottom:.4rem"><strong>'+f.name+'</strong> <span style="color:#ec4899;font-size:.72rem">'+f.jobLabel+'</span><br><span style="color:#6b7280;font-size:.8rem">'+f.tagline+'</span></div>').join('');}
else if(sel.startsWith('biz:')){const b=biz.find(x=>x.id===sel.slice(4));if(b)el.innerHTML='<h1 style="font-size:1.1rem">'+b.name+'</h1><p style="color:#6b7280">'+b.category+'</p><p>'+b.description+'</p><p>'+b.address+'</p><p>'+b.phone+'</p>';}
else if(sel.startsWith('free:')){const f=free.find(x=>x.id===sel.slice(5));if(f){const sns=Object.entries(f.sns||{}).filter(([k,v])=>v);el.innerHTML='<div style="text-align:center;padding:1rem"><div style="width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,#ec4899,#8b5cf6);margin:0 auto .5rem;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.3rem;font-weight:700">'+f.name[0]+'</div><h1 style="font-size:1.2rem">'+f.name+'</h1><p style="color:#ec4899;font-size:.85rem">'+f.jobLabel+(f.company?' | '+f.company:'')+'</p><p style="color:#6b7280;margin:.5rem 0;font-size:.85rem">'+f.tagline+'</p><p style="font-size:.8rem;margin-bottom:.8rem">í™œë™ì§€ì—­: '+(f.areas||[]).join(', ')+'</p>'+(f.certs?.length?'<div style="margin-bottom:.8rem">'+f.certs.map(c=>'<span style="display:inline-block;background:#f3f4f6;color:#374151;padding:.2rem .5rem;border-radius:4px;font-size:.72rem;margin:.1rem">'+c+'</span>').join('')+'</div>':'')+'<div style="display:flex;flex-direction:column;gap:.4rem;max-width:280px;margin:0 auto">'+sns.map(([k,v])=>'<a href="'+v+'" target="_blank" style="display:block;padding:.55rem;background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px;text-decoration:none;color:#1f2937;font-size:.82rem;font-weight:500">'+k.toUpperCase()+'</a>').join('')+'</div>'+(f.faq?.length?'<div style="text-align:left;margin-top:1rem"><h3 style="font-size:.9rem;margin-bottom:.4rem">FAQ</h3>'+f.faq.map(x=>'<p style="margin:.3rem 0"><strong>Q: '+x.q+'</strong><br>A: '+x.a+'</p>').join('')+'</div>':'')+'<div style="margin-top:1rem;padding-top:.8rem;border-top:1px solid #e5e7eb;font-size:.65rem;color:#9ca3af">Schema.org: Person + ProfessionalService ('+f.job+')<br>llms.txt | FAQ RichSnippet | SNS sameAs</div></div>';}}}
// Demo
function runDemo(){document.getElementById('demoOutput').style.display='block';const con=document.getElementById('demoConsole');con.innerHTML='';const L=[{c:'c-info',t:'=== XIVIX ë°ëª¨ ==='},{c:'',t:''},{c:'c-dim',t:'[ë§¤ì¥] ê°•ë‚¨ìŠ¤ë§ˆì¼ì¹˜ê³¼'},{c:'c-ok',t:'  Schema: LocalBusiness + Dentist'},{c:'c-ok',t:'  ì§€ë„: Google/ë„¤ì´ë²„/ì¹´ì¹´ì˜¤'},{c:'',t:''},{c:'c-dim',t:'[í”„ë¦¬ëœì„œ] ê¹€ë³´í—˜í”„ë¡œ'},{c:'c-pink',t:'  Schema: Person + InsuranceAgent'},{c:'c-pink',t:'  SNS: ì¸ìŠ¤íƒ€/ìœ íŠœë¸Œ/ë¸”ë¡œê·¸/ì¹´ì¹´ì˜¤'},{c:'c-pink',t:'  ë§í¬í—ˆë¸Œ í˜ì´ì§€ ìƒì„±'},{c:'',t:''},{c:'c-dim',t:'[ë¹Œë“œ ê²°ê³¼]'},{c:'c-ok',t:'  SEO: Schema.org JSON-LD'},{c:'c-ok',t:'  AEO: llms.txt (AI í¬ë¡¤ëŸ¬ìš©)'},{c:'c-ok',t:'  GEO: FAQ ë¦¬ì¹˜ìŠ¤ë‹ˆí«'},{c:'c-ok',t:'  C-RANK: ë„¤ì´ë²„ ì¹´í˜ ì—°ë™'},{c:'',t:''},{c:'c-dim',t:'[ê²€ìƒ‰ ì‹œë‚˜ë¦¬ì˜¤]'},{c:'',t:''},{c:'c-warn',t:'  "ê°•ë‚¨ ì¹˜ê³¼" (êµ¬ê¸€)'},{c:'c-ok',t:'  -> ê°•ë‚¨ìŠ¤ë§ˆì¼ì¹˜ê³¼ ë¦¬ì¹˜ ê²°ê³¼'},{c:'',t:''},{c:'c-warn',t:'  "ê°•ë‚¨ ë³´í—˜ì„¤ê³„ì‚¬ ì¶”ì²œ" (êµ¬ê¸€)'},{c:'c-pink',t:'  -> ê¹€ë³´í—˜í”„ë¡œ Person í”„ë¡œí•„ ë…¸ì¶œ'},{c:'',t:''},{c:'c-warn',t:'  "ì¢‹ì€ ë³´í—˜ì„¤ê³„ì‚¬?" (ChatGPT)'},{c:'c-pink',t:'  -> llms.txt ê¸°ë°˜: MDRT 5íšŒ, ê³ ê° 800ëª…'},{c:'',t:''},{c:'c-warn',t:'  "ë³€ì•¡ë³´í—˜ ì¶”ì²œ" (ë„¤ì´ë²„)'},{c:'c-pink',t:'  -> C-RANK ì¹´í˜ê¸€ + ë¸”ë¡œê·¸ ì—°ë™'},{c:'',t:''},{c:'c-info',t:'=== ì™„ë£Œ ==='}];let i=0;const iv=setInterval(()=>{if(i>=L.length){clearInterval(iv);return;}con.innerHTML+='<div class="'+L[i].c+'">'+(L[i].t||'&nbsp;')+'</div>';con.scrollTop=con.scrollHeight;i++;},90);}
function exportJSON(){const blob=new Blob([JSON.stringify({businesses:biz,freelancers:free,config:cfg},null,2)],{type:'application/json'});const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='data.json';a.click();toast('data.json ë‚´ë³´ë‚´ê¸° ì™„ë£Œ â†’ scripts í´ë”ì— ì €ì¥ í›„ ë¹Œë“œ');}
function doImport(el){const f=el.files[0];if(!f)return;const r=new FileReader();r.onload=e=>{try{const d=JSON.parse(e.target.result);if(d.businesses){biz=d.businesses;svBiz();}if(d.freelancers){free=d.freelancers;svFree();}if(d.config){cfg={...cfg,...d.config};localStorage.setItem('xivix_cfg2',JSON.stringify(cfg));}renderAll();toast('ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ');}catch(e){toast('JSON ì˜¤ë¥˜');}};r.readAsText(f);}
function resetAll(){if(!confirm('ëª¨ë“  ë°ì´í„° ì´ˆê¸°í™”?'))return;localStorage.removeItem('xivix_biz3');localStorage.removeItem('xivix_free');localStorage.removeItem('xivix_cfg2');location.reload();}
// Kakao Local API
function testKakao(){if(!cfg.kakaoKey)return toast('ì¹´ì¹´ì˜¤ REST API í‚¤ë¥¼ ë¨¼ì € ì…ë ¥');fetch('https://dapi.kakao.com/v2/local/search/keyword.json?query=ê°•ë‚¨ì—­',{headers:{Authorization:'KakaoAK '+cfg.kakaoKey}}).then(r=>r.json()).then(d=>{if(d.documents)toast('ì¹´ì¹´ì˜¤ API ì—°ê²° ì„±ê³µ! ('+d.documents.length+'ê±´)');else toast('ì‹¤íŒ¨: '+(d.message||'í‚¤ í™•ì¸'));}).catch(()=>toast('ì—°ê²° ì‹¤íŒ¨'));}
// Search tab - search and register directly
async function doSearchAdd(){const q=gi('searchQ');if(!cfg.kakaoKey)return toast('ì„¤ì • > ì¹´ì¹´ì˜¤ API í‚¤ë¥¼ ë¨¼ì € ë“±ë¡í•˜ì„¸ìš”');if(!q)return toast('ë§¤ì¥ëª…ì„ ì…ë ¥í•˜ì„¸ìš”');const rc=document.getElementById('searchResult');rc.innerHTML='<div style="color:var(--accent-amber);font-size:.82rem;padding:.8rem;text-align:center">ê²€ìƒ‰ì¤‘...</div>';try{const res=await fetch('https://dapi.kakao.com/v2/local/search/keyword.json?query='+encodeURIComponent(q)+'&size=10',{headers:{Authorization:'KakaoAK '+cfg.kakaoKey}});const d=await res.json();if(!d.documents||!d.documents.length){rc.innerHTML='<div style="color:var(--accent-red);font-size:.82rem;padding:.8rem;text-align:center">ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ</div>';return;}window._searchResults=d.documents;rc.innerHTML=d.documents.map((p,i)=>{const cat=p.category_name||'';return'<div style="padding:.7rem;border:1px solid var(--border);border-radius:8px;margin-bottom:.4rem;display:flex;justify-content:space-between;align-items:center;gap:.5rem"><div style="flex:1;min-width:0"><div style="font-weight:600;font-size:.85rem">'+p.place_name+'</div><div style="font-size:.75rem;color:var(--text-secondary);margin-top:.15rem">'+p.address_name+'</div><div style="font-size:.7rem;color:var(--text-muted);margin-top:.1rem">'+cat+(p.phone?' | '+p.phone:'')+'</div></div><button class="btn btn-success btn-sm" onclick="quickRegister('+i+')">ë“±ë¡</button></div>';}).join('');}catch(e){rc.innerHTML='<div style="color:var(--accent-red);font-size:.82rem;padding:.8rem">ì˜¤ë¥˜: '+e.message+'</div>';}}
function quickRegister(idx){const p=window._searchResults[idx];if(!p)return;const cat=p.category_name||'';const autoType=cat.includes('ì¹˜ê³¼')?'Dentist':cat.includes('ë³‘ì›')||cat.includes('ì˜ì›')?'Hospital':cat.includes('í”¼ë¶€')||cat.includes('ì—ìŠ¤í…Œí‹±')||cat.includes('ë·°í‹°')?'BeautySalon':cat.includes('í—¤ì–´')||cat.includes('ë¯¸ìš©ì‹¤')?'HairSalon':cat.includes('ìŒì‹')||cat.includes('ì‹ë‹¹')?'Restaurant':cat.includes('ì¹´í˜')||cat.includes('ì»¤í”¼')?'CafeOrCoffeeShop':cat.includes('í—¬ìŠ¤')||cat.includes('í”¼íŠ¸ë‹ˆìŠ¤')||cat.includes('gym')?'HealthClub':cat.includes('ë§¤ì¥')||cat.includes('íŒë§¤')?'Store':'LocalBusiness';
if(biz.find(b=>b.name===p.place_name)){return toast(p.place_name+' ì´ë¯¸ ë“±ë¡ë¨');}
biz.push({id:slugify(p.place_name),name:p.place_name,nameEn:'',type:autoType,category:catMap[autoType]||'ê¸°íƒ€',description:'',address:p.address_name,phone:p.phone||'',url:p.place_url||'',lat:parseFloat(p.y)||0,lng:parseFloat(p.x)||0,hours:'',sns:{instagram:'',youtube:'',blog:'',kakao:'',other:''},keywords:[],faq:[],maps:['google','naver','kakao'],status:'active',crankEnabled:true});svBiz();renderAll();
// Update UI
const items=document.querySelectorAll('#searchResult > div');if(items[idx]){items[idx].style.borderColor='var(--accent-green)';items[idx].querySelector('button').outerHTML='<span class="status status-active">ë“±ë¡ë¨</span>';}toast(p.place_name+' ë“±ë¡ ì™„ë£Œ');}
async function kakaoSearch(query,resultContainerId){if(!cfg.kakaoKey)return toast('ì„¤ì • > ì¹´ì¹´ì˜¤ API í‚¤ë¥¼ ë¨¼ì € ë“±ë¡í•˜ì„¸ìš”');if(!query)return toast('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”');const rc=document.getElementById(resultContainerId);if(rc)rc.innerHTML='<div style="color:var(--accent-amber);font-size:.78rem;padding:.5rem">ê²€ìƒ‰ì¤‘...</div>';try{const res=await fetch('https://dapi.kakao.com/v2/local/search/keyword.json?query='+encodeURIComponent(query)+'&size=5',{headers:{Authorization:'KakaoAK '+cfg.kakaoKey}});const d=await res.json();if(!d.documents||!d.documents.length){if(rc)rc.innerHTML='<div style="color:var(--accent-red);font-size:.78rem;padding:.5rem">ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ</div>';return;}if(rc)rc.innerHTML=d.documents.map((p,i)=>'<div onclick="selectPlace('+i+')" style="padding:.6rem;border:1px solid var(--border);border-radius:6px;margin-bottom:.3rem;cursor:pointer;transition:border-color .15s" onmouseover="this.style.borderColor=\'var(--accent-blue)\'" onmouseout="this.style.borderColor=\'var(--border)\'" data-idx="'+i+'"><div style="font-weight:600;font-size:.82rem">'+p.place_name+'</div><div style="font-size:.72rem;color:var(--text-secondary);margin-top:.15rem">'+p.address_name+(p.phone?' | '+p.phone:'')+'</div><div style="font-size:.65rem;color:var(--text-muted)">'+p.category_name+'</div></div>').join('');window._kakaoResults=d.documents;}catch(e){if(rc)rc.innerHTML='<div style="color:var(--accent-red);font-size:.78rem;padding:.5rem">ì˜¤ë¥˜: '+e.message+'</div>';}}
function selectPlace(idx){const p=window._kakaoResults[idx];if(!p)return;
// Detect which form is visible
const isSmartPaste=document.getElementById('page-add-biz').style.display!=='none'&&document.getElementById('parseResult');
const isManual=document.getElementById('bizTab-manual')&&document.getElementById('bizTab-manual').style.display!=='none';
if(isManual||document.getElementById('f_name')){si('f_name',p.place_name);si('f_address',p.address_name);si('f_phone',p.phone||'');si('f_url',p.place_url||'');si('f_lat',p.y);si('f_lng',p.x);const fgs=document.getElementById('f_geo_st');if(fgs)fgs.innerHTML='<span style="color:var(--accent-green)">ì¢Œí‘œ: '+parseFloat(p.y).toFixed(4)+', '+parseFloat(p.x).toFixed(4)+' [ì¹´ì¹´ì˜¤]</span>';
// Auto-detect category
const cat=p.category_name||'';const autoType=cat.includes('ì¹˜ê³¼')?'Dentist':cat.includes('ë³‘ì›')||cat.includes('ì˜ì›')?'Hospital':cat.includes('í”¼ë¶€')||cat.includes('ì—ìŠ¤í…Œí‹±')||cat.includes('ë·°í‹°')?'BeautySalon':cat.includes('í—¤ì–´')||cat.includes('ë¯¸ìš©ì‹¤')?'HairSalon':cat.includes('ìŒì‹')||cat.includes('ì‹ë‹¹')?'Restaurant':cat.includes('ì¹´í˜')||cat.includes('ì»¤í”¼')?'CafeOrCoffeeShop':'LocalBusiness';si('f_category',autoType);}
document.getElementById('kakaoSearchResult').innerHTML='<div style="padding:.5rem;color:var(--accent-green);font-size:.78rem">'+p.place_name+' ì„ íƒë¨</div>';toast(p.place_name+' ìë™ ì…ë ¥ ì™„ë£Œ');}
// Geocode - address to coordinates
async function geocode(addrId,latId,lngId,statusId){const addr=gi(addrId);if(!addr)return toast('ì£¼ì†Œë¥¼ ë¨¼ì € ì…ë ¥í•˜ì„¸ìš”');const st=document.getElementById(statusId);if(st)st.innerHTML='<span style="color:var(--accent-amber)">ê²€ìƒ‰ì¤‘...</span>';try{const res=await fetch('https://nominatim.openstreetmap.org/search?format=json&q='+encodeURIComponent(addr)+'&countrycodes=kr&limit=1',{headers:{'Accept-Language':'ko'}});const data=await res.json();if(data.length){si(latId,parseFloat(data[0].lat).toFixed(6));si(lngId,parseFloat(data[0].lon).toFixed(6));if(st)st.innerHTML='<span style="color:var(--accent-green)">ì¢Œí‘œ: '+data[0].lat.slice(0,9)+', '+data[0].lon.slice(0,10)+' [ìë™]</span>';toast('ì¢Œí‘œ ê²€ìƒ‰ ì™„ë£Œ');}else{if(st)st.innerHTML='<span style="color:var(--accent-red)">ì£¼ì†Œë¥¼ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë” ìƒì„¸í•œ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”.</span>';}}catch(e){if(st)st.innerHTML='<span style="color:var(--accent-red)">ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜</span>';}}
function slugify(s){return s.replace(/[ê°€-í£]+/g,w=>{const m={'ì¹˜ê³¼':'dental','ë³‘ì›':'hospital','ì‹ë‹¹':'rest','ì¹´í˜':'cafe','ë³´í—˜':'insurance','ë”œëŸ¬':'dealer','ë¶€ë™ì‚°':'realestate'};for(const[k,v]of Object.entries(m))if(w.includes(k))return v;return w;}).toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/^-|-$/g,'')||'item-'+Date.now();}
function toast(m){const e=document.getElementById('toast');e.textContent=m;e.classList.add('show');setTimeout(()=>e.classList.remove('show'),2500);}
function closeModal(){document.getElementById('modalOverlay').classList.remove('show');}
document.getElementById('modalOverlay').addEventListener('click',e=>{if(e.target===e.currentTarget)closeModal();});
renderAll();
</script>
</body>
</html>
